  <!DOCTYPE html>
    <html>
      <head>
        <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.2/howler.js"></script>

        <script src="https://rawgit.com/ngokevin/aframe-randomizer-components/master/dist/aframe-randomizer-components.min.js"></script>


        <script src="noise.js"></script>

        <script src="http://cdn.rawgit.com/donmccurdy/aframe-extras/v3.3.1/dist/aframe-extras.min.js"></script>






                <!-- AUDIO REACTIVE -->
        <script src="node_modules/aframe-audioanalyser-component/dist/aframe-audioanalyser-component.js"></script>
        <script src="node_modules/aframe-audioanalyser-component/examples/components/audioanalyser-volume-scale.js"></script>



                <!-- HERE WE ARE     -->
        <title>here we are</title>







        <script>
                var sound = new Howl({
                  src: ['audio/bm.mp3']
                });

                var alert = new Howl({
                  src: ['audio/alert.wav']
                });

                var bgsound = new Howl({
                  src: ['audio/alert.wav']
                });

                alert.play();
        </script>
</head>



<!-- Scene -->
        <body>
          <a-scene stats>

<!-- Assets -->
            <a-assets>
                    <!-- OBJECTS -->


                    <!--Terrain-->
                                  <a-asset-item id="terrain-obj" src="terrain.obj"></a-asset-item>
                                  <a-asset-item id="terrain-mtl" src="terrain.mtl"></a-asset-item>


                    <!-- Temple -->
                                  <a-asset-item id="temple-obj" src="assets/temple.obj"></a-asset-item>
                                  <a-asset-item id="temple-mtl" src="assets/temple.mtl"></a-asset-item>

                    <!--Ceiling-->
                                  <a-asset-item id="ceiling-obj" src="assets/ceiling.obj"></a-asset-item>
                                  <a-asset-item id="ceiling-mtl" src="assets/ceiling.mtl"></a-asset-item>


                    <!-- Mother Shells-->

                                  <a-asset-item id="sphere-obj" src="mother_shell.obj"></a-asset-item>
                                  <a-asset-item id="sphere-mtl" src="mother_shell.mtl"></a-asset-item>

                                  <audio id="river" src="audio/bm.mp3" preload="auto" autoplay></audio>

                                  <!-- Checkpoints -->
                                  <a-mixin id="checkpoint"></a-mixin>
                                  <a-mixin id="checkpoint-hovered" color="#FFFFFF"></a-mixin>

                                  <!-- Video Textures -->
                                  <video id="testvid" src="test.mov" autoplay loop="true">
                                  <video id="disp" src="displacement.mov" autoplay loop="true">
                                  <video id="geometric" src="geometric.mp4" autoplay loop="true">
                                  <video id="color" src="color_sm.mov" autoplay loop="true">

                                  <!-- materials -->
                                  <a-mixin id="mtl_ancient" material="shader:standard; roughness:0; metalness:.5; sphericalEnvMap:#testvid"></a-mixin>
                                  <a-mixin id="mtl_ancient2" material="shader:standard;roughness:0;color:#999999;metalness:.4;normalMap:norm.jpg;sphericalEnvMap:#testvid;normalTextureRepeat:.5 .5;"></a-mixin>
            </a-assets>
<!-- Assets -->



      <!-- Player -->
<a-entity camera
          look-controls
          wasd-controls
          mouse-cursor
          universal-controls="movementControls: checkpoint"
          checkpoint-controls="mode: animate"
          position="0 2 0"
          rotation="0 -90 0">
    <a-entity cursor="maxDistance: 30"
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03;"
              material="color: #0FF; shader: flat;">

              <a-animation delay="click" easing="ease-in" attribute="scale"  fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
              <a-animation delay="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="1500"></a-animation>
    </a-entity>
</a-entity>





<!-- Rotating Scene Lights -->
      <a-entity position="" rotation="" scale="1000 1000 1000" visible="">
        <a-light type="ambient" position="0 0 0" color="#FF0000" intensity=".01" rotation="" scale="" visible="" light="">
          <a-animation attribute="intensity" delay="0" dur="1000" from="0" to=".1" repeat="1" easing="linear" direction="alternate"></a-animation>
        </a-light>

        <a-light type="point" position="0 0 -5" color="#77427F" intensity=".3" rotation="" scale="" visible="" light=""></a-light>
        <a-light type="point" position="0 0 5" color="#FF5500" intensity=".3" rotation="" scale="" visible="" light=""></a-light>
        <a-light type="point" position="5 0 0" color="#FF66FF" intensity=".2" rotation="0 169.5462119999768 0" scale="1 1 1" visible="true" light="type:point;color:#6cd0ff;intensity:.4">
          <a-animation attribute="rotation" from="0 0 0 " to="0 360 0" dur="1000" delay="0" repeat="indefinate" direction="normal" easing="linear"></a-animation>
        </a-light>

        <a-animation attribute="rotation" from="0 0 0 " to="0 360 0" dur="60000" delay="0" repeat="indefinate" direction="normal" easing="linear"></a-animation>
      </a-entity>

      <a-entity light="type: point; intensity: 0.75; distance: 50; decay: 2; color:#FF0000"
                position="0 28 0"></a-entity>






<a-entity position="0 28 0">
      <a-sphere id="mouth"
        color="#FFF"
        scale=".25 .25 .25"
        audioanalyser="src: #raver"
        audioanalyser-volume-scale="multiplier: 1"
        position="0 0 0"
        checkpoint
        side="single"
        shader="flat"
      ></a-sphere>
</a-entity>




<a-entity position="0 2 0">
<a-sphere id="mouth"
color="#FFF"
scale=".25 .25 .25"
audioanalyser="src: #raver"
audioanalyser-volume-scale="multiplier: 1"
position="0 0 0"
checkpoint
side="single"
shader="flat"
></a-sphere>
</a-entity>


<a-entity position="-30 2 0">
<a-sphere id="mouth"
color="#FFF"
scale=".25 .25 .25"
audioanalyser="src: #raver"
audioanalyser-volume-scale="multiplier: 1"
position="0 0 0"
checkpoint
side="single"
shader="flat"
></a-sphere>
</a-entity>

<!-- Temple -->
<a-entity obj-model="obj: #temple-obj; mtl: #temple-mtl" checkpoint position="0 0 0"></a-entity>
  <!-- ceiling -->
    <a-entity obj-model="obj: #ceiling-obj" checkpoint position="0 0 0" material="normalMap:#geometric"></a-entity>


<!-- Terrain -->
  <a-entity obj-model="obj: #terrain-obj;" material="normalMap:norm.jpg;normalTextureRepeat:80 80;src:cobalt_2048.jpg;sphericalEnvMap:#color;metalness:.7;displacementMap:#disp;displacementScale:3"></a-entity>



<!-- Mother Shell -->
<a-entity position="0 -15 0">
      <a-entity obj-model="obj: #sphere-obj; mtl: #sphere-mtl"      position="0 5 0"></a-entity>
      <a-entity obj-model="obj: #sphere-obj"                        position="1 1 5" material="color:#000000"  sound="on: click; src: #river;" audioanalyser="src: #raver" audioanalyser-volume-scale="multiplier: 1"></a-entity>
      <a-entity obj-model="obj: #sphere-obj"                        position="10 1 1"  sound="on: click; src: #river;" ></a-entity>
      <a-entity obj-model="obj: #sphere-obj"                        position="1 1 15"  sound="on: click; src: #river;" ></a-entity>
</a-entity>



<!-- Checkpoints -->

<!--
      <a-entity position="1 0 1">
           <a-cylinder checkpoint radius="1" height="0.1" position="0 0 -5.2" color="#FFBB82" onclick=""></a-cylinder>
           <a-cylinder class="clickable" class="intersectable" checkpoint radius="1" height="500" position="150 0 -95" color="#39BB82" light="type:point;color:#ffffff;intensity:.2"></a-cylinder>
           <a-cylinder class="clickable" class="intersectable" checkpoint radius="1" height="0.1" position="-3 0 0" color="#39BB82"></a-cylinder>
      </a-entity>
-->


<!-- Starter Objects -->
      <a-sphere  position="0 -10 -1" radius=".6" color="#EF2D5E" id="link" material="normalMap:#geometric;;normalTextureRepeat: 10 10;sphericalEnvMap:#color;metalness:.7;displacementMap:#disp"></a-sphere>


<!-- Ground Plane -->
  <a-plane rotation="-90 0 0" position="0 -4 0" width="35" height="35" color="#7BC8A4" material="shader:standard;sphericalEnvMap:#color;metalness:.7"></a-plane>




  <!-- Audio analyser. -->
       <a-entity id="analyser"
         audioanalyser="src: #river"
         audioanalyser-waveform="radius: 0.5"
         rotation="90 0 0"
         position="0 30 0"></a-entity>



                    <a-sky color="#000000"></a-sky>




          </a-scene>





<script>


var scene = document.querySelector('a-scene');

var el= document.querySelector('#link');
el.addEventListener('click', function () {
  window.location.href = 'https://google.com';
});


<!-- AUDIO REACT -->
var el= document.querySelector('#audioREACT');
el.addEventListener('click', function () {
  var scene = document.querySelector('a-scene');
  var newSound = document.createElement('audio');
  newSound.id = 'nsound';
  newSound.setAttribute('src','audio/bm.mp3');
  newSound.setAttribute('autoplay','true');
  alert.play();
  el.setAttribute('audioanalyser','src: #nsound');
  el.setAttribute('audioanalyser-volume-scale','multiplier:1');
});








</script>



</body>
</html>
